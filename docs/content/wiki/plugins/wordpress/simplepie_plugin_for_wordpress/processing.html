<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
<title>SimplePie Documentation: Post-Processing</title>

<meta name="generator" content="DokuWiki Release 2006-11-06" />
<meta name="date" content="2007-06-18T00:42:23-0700" />
<meta name="keywords" content="reference,start" />

<link rel="start" href="/wiki/" />
<link rel="contents" href="/wiki/reference/start?do=index" title="Index" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="/wiki/feed.php" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="/wiki/feed.php?mode=list&amp;ns=reference" />
<link rel="alternate" type="text/html" title="Plain HTML" href="/wiki/_export/xhtml/reference/start" />
<link rel="alternate" type="text/plain" title="Wiki Markup" href="/wiki/_export/raw/reference/start" />

<link rel="stylesheet" href="/wiki/lib/tpl/simplepie/wikistyles.css" type="text/css" media="screen">
<link rel="stylesheet" href="/css/sIFR-screen.css" type="text/css" media="screen">
<link rel="stylesheet" href="/css/sIFR-print.css" type="text/css" media="print">
<link rel="stylesheet" media="screen" type="text/css" href="/wiki/lib/exe/css.php" />
<link rel="stylesheet" media="print" type="text/css" href="/wiki/lib/exe/css.php?print=1" />

<!-- FEED HTTP-EQUIV -->
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://feeds.feedburner.com/simplepie" />

<!-- META HTTP-EQUIV -->
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-us" />
<meta http-equiv="imagetoolbar" content="false" />

<!-- META NAME -->
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="ROBOTS" content="ALL" />
<meta name="copyright" content="2004-2022 Ryan Parman, Geoffrey Sneddon" />
<meta name="description" content="A super-fast, easy-to-use, RSS and Atom parser written in PHP." />
<meta name="author" content="SimplePie.org" />
<meta name="rating" content="General" />
<meta name="revisit-after" content="2 Days" />
<meta name="doc-class" content="Living Document" />
<meta name="y_key" content="8a13570546b4e5cd" />

<!-- FAVICON -->
<link rel="shortcut icon" type="image/ico" href="/favicon.ico" />

<!-- STYLES -->
<link rel="stylesheet" href="/css/simplepie.css" media="screen, projector" />

<!-- SCRIPTS -->
<script type="text/javascript" src="/mint/?js"></script>
<script type="text/javascript" src="/scripts/sleight.js"></script>
<script type="text/javascript" src="http://www.google-analytics.com/urchin.js"></script>


<script type="text/javascript" src="/scripts/sifr.js"></script>
<script type="text/javascript" src="/scripts/sifr-config.js"></script>

</head>

<body id="bodydocs">

<div class="announcement"><a href="https://github.com/simplepie/simplepie/releases/tag/1.5">SimplePie 1.5 is now available!</a></div>
<div id="header">
	<div id="headerInner">
		<div id="logoContainer">
			<div id="logoContainerInner">
				<div id="logo"><a href="/"><img src="/images/logo_simplepie_horizontal.png" alt="SimplePie: PHP-based RSS and Atom feed handling" title="SimplePie: PHP-based RSS and Atom feed handling" border="0" /></a></div>
				<div id="feed"><form action="http://www.google.com/search" method="get"><input type="text" name="q" id="q" value="" class="text" /><input type="hidden" name="as_sitesearch" value="simplepie.org" />&nbsp;<input type="submit" value="Search" class="button" /></form></div>
				<div class="clearLeft"></div>
			</div>
		</div>
		<div id="menu">
		<table cellpadding="0" cellspacing="0" border="0"><tbody><tr><td>
<ul><li id="overview"><a href="/">Overview</a></li><li id="demo"><a href="/demo/">Demo</a></li><li id="blog"><a href="/blog/">Blog</a></li><li id="downloads"><a href="/downloads/">Download</a></li><li id="docs"><a href="/wiki/">Documentation</a></li><li id="api"><a href="/api/">API Docs</a></li><li id="support"><a href="/support/">Support</a></li><li id="bugs"><a href="http://github.com/simplepie/simplepie/issues">Issue Tracker</a></li><li id="faq"><a href="/wiki/faq/start">FAQ</a></li></ul>
			<div class="clearLeft"></div>
		</td></tr></tbody></table>
		</div>
	</div>
</div>

<div id="site">

	<div id="content">

		<div class="chunk">
			<h2 class="image"><img src="/images/copy_simplepie_documentation.gif" alt="SimplePie Documentation.  Learn how to use this thing.  It's way better than going to school." title="SimplePie Documentation.  Learn how to use this thing.  It's way better than going to school." /></h2>
		</div>

		<div class="chunk focus" id="controls">
			<div class="buttons">
				<form class="button btn_source" method="post" action="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/processing"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="submit" value="Show pagesource" class="button" accesskey="v" title="Show pagesource [V]" /></div></form>				<form class="button btn_revs" method="get" action="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/processing"><div class="no"><input type="hidden" name="do" value="revisions" /><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [O]" /></div></form>				<form class="button btn_recent" method="get" action="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/processing"><div class="no"><input type="hidden" name="do" value="recent" /><input type="submit" value="Recent changes" class="button" accesskey="r" title="Recent changes [R]" /></div></form>																<form class="button btn_login" method="get" action="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/processing"><div class="no"><input type="hidden" name="do" value="login" /><input type="hidden" name="sectok" value="82131617f0f8b1649452f4b9fc846238" /><input type="submit" value="Login" class="button" title="Login" /></div></form>			</div>
			<div class="search">
				<form action="/wiki/" accept-charset="utf-8" class="search" id="dw__search" method="get"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>			</div>
			<div class="clearRight"></div>
		</div>

		<p class="footnote"><span class="bchead">You are here: </span><a href="/wiki/start"  title="start">Documentation</a> &raquo; <a href="/wiki/plugins/start"  title="plugins:start">SimplePie Plugins and Integration</a> &raquo; <a href="/wiki/plugins/wordpress/start"  title="plugins:wordpress:start">WordPress</a> &raquo; <a href="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/start"  title="plugins:wordpress:simplepie_plugin_for_wordpress:start">SimplePie Plugin for WordPress</a> &raquo; <a href="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/processing"  title="plugins:wordpress:simplepie_plugin_for_wordpress:processing">Post-Processing</a></p>

		<div class="chunk">

	    	<!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="#post-processing" class="toc">Post-Processing</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#navigation" class="toc">Navigation</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#notes_about_post-processing" class="toc">Notes about Post-Processing</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#example" class="toc">Example</a></span></div></li></ul>
</li></ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1"><a name="post-processing" id="post-processing">Post-Processing</a></h1>
<div class="level1">

<p>
New in version 2.1, SimplePie Plugin for WordPress allows you to do post-processing on the feed data. This allows you to do things like strip all content from an item except for images, do profanity censoring, strip out advertisements in feeds, and just about anything else you might want to do.
</p>

</div>

<h2 class="sectionedit2"><a name="navigation" id="navigation">Navigation</a></h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<tr class="row0">
		<th class="col0"> â†’ </th><td class="col1"> <a href="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/start" class="wikilink1" title="plugins:wordpress:simplepie_plugin_for_wordpress:start">Overview</a> </td><td class="col2"> <a href="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/installation" class="wikilink1" title="plugins:wordpress:simplepie_plugin_for_wordpress:installation">Installation</a> </td><td class="col3"> <a href="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/usage" class="wikilink1" title="plugins:wordpress:simplepie_plugin_for_wordpress:usage">Getting Started</a> </td><td class="col4"> <a href="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/customization" class="wikilink1" title="plugins:wordpress:simplepie_plugin_for_wordpress:customization">Customization</a> </td><td class="col5"> <span class="curid"><a href="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/processing" class="wikilink1" title="plugins:wordpress:simplepie_plugin_for_wordpress:processing">Post-Processing</a></span> </td><td class="col6"> <a href="/wiki/plugins/wordpress/simplepie_plugin_for_wordpress/troubleshooting" class="wikilink1" title="plugins:wordpress:simplepie_plugin_for_wordpress:troubleshooting">Troubleshooting</a> </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit4"><a name="notes_about_post-processing" id="notes_about_post-processing">Notes about Post-Processing</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Post-Processing files should be stored in the <code>processes</code> directory.</div>
</li>
<li class="level1"><div class="li"> All post-processing functions need to be contained within the <code>SimplePie_PostProcess</code> class (look at the examples).</div>
</li>
<li class="level1"><div class="li"> The function to post-process a given template tag should have the same name but lowercased (i.e. <code>{ITEM_CONTENT}</code> would be overridden with <code>function item_content()</code>).</div>
</li>
<li class="level1"><div class="li"> The function should accept a single parameter, which is the value that SimplePie returns. This is the value that you will manipulate.</div>
</li>
</ul>

</div>

<h2 class="sectionedit5"><a name="example" id="example">Example</a></h2>
<div class="level2">
<pre class="code php"><span class="kw2">&lt;?php</span>
<span class="co1">// We MUST keep this classname.</span>
<span class="kw2">class</span> SimplePie_PostProcess
<span class="br0">&#123;</span>
	<span class="co1">// Function name MUST be the same as the template tag we're processing, all lowercase, and MUST accept a single string parameter.</span>
	<span class="kw2">function</span> item_content<span class="br0">&#40;</span><span class="re0">$s</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">// Match all images in the content.</span>
		<a href="http://www.php.net/preg_match_all"><span class="kw3">preg_match_all</span></a><span class="br0">&#40;</span><span class="st_h">'/&lt;img([^&gt;]*)&gt;/i'</span><span class="sy0">,</span> <span class="re0">$s</span><span class="sy0">,</span> <span class="re0">$matches</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
		<span class="co1">// Clear out the variable.</span>
		<span class="re0">$s</span> <span class="sy0">=</span> <span class="st_h">''</span><span class="sy0">;</span>
&nbsp;
		<span class="co1">// Loop through all of the *complete* matches (stored in $matches[0]).</span>
		<span class="kw1">foreach</span> <span class="br0">&#40;</span><span class="re0">$matches</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="kw1">as</span> <span class="re0">$match</span><span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			<span class="co1">// Add the images (only) back to $s.</span>
			<span class="re0">$s</span> <span class="sy0">.=</span> <span class="re0">$match</span> <span class="sy0">.</span> <span class="st_h">'&lt;br /&gt;'</span><span class="sy0">;</span>
		<span class="br0">&#125;</span>
&nbsp;
		<span class="co1">// Return $s back out to the plugin.</span>
		<span class="kw1">return</span> <span class="re0">$s</span><span class="sy0">;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span>
<span class="sy1">?&gt;</span></pre>

</div>


			<div class="clearRight"></div>
			<div align="right"><br /><span class="footnote"> plugins/wordpress/simplepie_plugin_for_wordpress/processing.txt &middot; Last modified: 2011/03/06 03:56 (external edit)</span></div>

		</div>

		<div id="footer">
<p class="highlight" style="background-color:#ffc; border-bottom:1px solid #ccc;"><strong>Show some love!</strong> Wishlists for <a href="http://www.amazon.co.uk/gp/registry/wishlist/2ASV4RHBSM16H/026-9090951-0551667">Geoffrey</a>, <a href="http://www.amazon.com/gp/registry/wishlist/KAFYR57E8R81/">Ryan P.</a>, and <a href="http://www.amazon.com/gp/registry/wishlist/2P9RS76SG0UHL/">Ryan M.</a></p>
<p class="footnote">SimplePie is &copy; 2004&ndash;2022 <a href="http://ryanparman.com">Ryan Parman</a>, <a href="http://gsnedders.com/">Geoffrey Sneddon</a>, <a href="http://ryanmccue.info/">Ryan McCue</a> and contributors.  Licensed under the <a href="http://www.opensource.org/licenses/bsd-license.php">BSD License</a>.  Hosted thanks to <a href="http://ma.tt/">Matt Mullenweg</a>, powered by <a href="http://wordpress.org">WordPress</a> and <a href="http://php.net">PHP 5.6.40</a>, and managed with <a href="http://basecamphq.com/?referrer=skyzyx">Basecamp</a>.  Syndication handled by <a href="http://simplepie.org" title="SimplePie 1.5">SimplePie</a>.  Variation on the Feed Icon by <a href="http://www.bartelme.at/journal/archive/feed_icon_template">Wolfgang Bartelme</a>.</p>
<div class="spacer"></div>
</div>
<script type="text/javascript">_uacct = "UA-1004552-1";urchinTracker();</script>

	</div>

</div>

<div class="no"><img src="/wiki/lib/exe/indexer.php?id=plugins%3Awordpress%3Asimplepie_plugin_for_wordpress%3Aprocessing&amp;1666873959" width="1" height="1" alt=""  /></div>

</body>
</html>