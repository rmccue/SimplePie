<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
<title>SimplePie Documentation: Flickr Lightbox</title>

<meta name="generator" content="DokuWiki Release 2006-11-06" />
<meta name="date" content="2007-06-18T00:42:23-0700" />
<meta name="keywords" content="reference,start" />

<link rel="start" href="/wiki/" />
<link rel="contents" href="/wiki/reference/start?do=index" title="Index" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="/wiki/feed.php" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="/wiki/feed.php?mode=list&amp;ns=reference" />
<link rel="alternate" type="text/html" title="Plain HTML" href="/wiki/_export/xhtml/reference/start" />
<link rel="alternate" type="text/plain" title="Wiki Markup" href="/wiki/_export/raw/reference/start" />

<link rel="stylesheet" href="/wiki/lib/tpl/simplepie/wikistyles.css" type="text/css" media="screen">
<link rel="stylesheet" href="/css/sIFR-screen.css" type="text/css" media="screen">
<link rel="stylesheet" href="/css/sIFR-print.css" type="text/css" media="print">
<link rel="stylesheet" media="screen" type="text/css" href="/wiki/lib/exe/css.php" />
<link rel="stylesheet" media="print" type="text/css" href="/wiki/lib/exe/css.php?print=1" />

<!-- FEED HTTP-EQUIV -->
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://feeds.feedburner.com/simplepie" />

<!-- META HTTP-EQUIV -->
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-us" />
<meta http-equiv="imagetoolbar" content="false" />

<!-- META NAME -->
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="ROBOTS" content="ALL" />
<meta name="copyright" content="2004-2022 Ryan Parman, Geoffrey Sneddon" />
<meta name="description" content="A super-fast, easy-to-use, RSS and Atom parser written in PHP." />
<meta name="author" content="SimplePie.org" />
<meta name="rating" content="General" />
<meta name="revisit-after" content="2 Days" />
<meta name="doc-class" content="Living Document" />
<meta name="y_key" content="8a13570546b4e5cd" />

<!-- FAVICON -->
<link rel="shortcut icon" type="image/ico" href="/favicon.ico" />

<!-- STYLES -->
<link rel="stylesheet" href="/css/simplepie.css" media="screen, projector" />

<!-- SCRIPTS -->
<script type="text/javascript" src="/mint/?js"></script>
<script type="text/javascript" src="/scripts/sleight.js"></script>
<script type="text/javascript" src="http://www.google-analytics.com/urchin.js"></script>


<script type="text/javascript" src="/scripts/sifr.js"></script>
<script type="text/javascript" src="/scripts/sifr-config.js"></script>

</head>

<body id="bodydocs">

<div class="announcement"><a href="https://github.com/simplepie/simplepie/releases/tag/1.5">SimplePie 1.5 is now available!</a></div>
<div id="header">
	<div id="headerInner">
		<div id="logoContainer">
			<div id="logoContainerInner">
				<div id="logo"><a href="/"><img src="/images/logo_simplepie_horizontal.png" alt="SimplePie: PHP-based RSS and Atom feed handling" title="SimplePie: PHP-based RSS and Atom feed handling" border="0" /></a></div>
				<div id="feed"><form action="http://www.google.com/search" method="get"><input type="text" name="q" id="q" value="" class="text" /><input type="hidden" name="as_sitesearch" value="simplepie.org" />&nbsp;<input type="submit" value="Search" class="button" /></form></div>
				<div class="clearLeft"></div>
			</div>
		</div>
		<div id="menu">
		<table cellpadding="0" cellspacing="0" border="0"><tbody><tr><td>
<ul><li id="overview"><a href="/">Overview</a></li><li id="demo"><a href="/demo/">Demo</a></li><li id="blog"><a href="/blog/">Blog</a></li><li id="downloads"><a href="/downloads/">Download</a></li><li id="docs"><a href="/wiki/">Documentation</a></li><li id="api"><a href="/api/">API Docs</a></li><li id="support"><a href="/support/">Support</a></li><li id="bugs"><a href="http://github.com/simplepie/simplepie/issues">Issue Tracker</a></li><li id="faq"><a href="/wiki/faq/start">FAQ</a></li></ul>
			<div class="clearLeft"></div>
		</td></tr></tbody></table>
		</div>
	</div>
</div>

<div id="site">

	<div id="content">

		<div class="chunk">
			<h2 class="image"><img src="/images/copy_simplepie_documentation.gif" alt="SimplePie Documentation.  Learn how to use this thing.  It's way better than going to school." title="SimplePie Documentation.  Learn how to use this thing.  It's way better than going to school." /></h2>
		</div>

		<div class="chunk focus" id="controls">
			<div class="buttons">
				<form class="button btn_source" method="post" action="/wiki/tutorial/flickr_lightbox"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="submit" value="Show pagesource" class="button" accesskey="v" title="Show pagesource [V]" /></div></form>				<form class="button btn_revs" method="get" action="/wiki/tutorial/flickr_lightbox"><div class="no"><input type="hidden" name="do" value="revisions" /><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [O]" /></div></form>				<form class="button btn_recent" method="get" action="/wiki/tutorial/flickr_lightbox"><div class="no"><input type="hidden" name="do" value="recent" /><input type="submit" value="Recent changes" class="button" accesskey="r" title="Recent changes [R]" /></div></form>																<form class="button btn_login" method="get" action="/wiki/tutorial/flickr_lightbox"><div class="no"><input type="hidden" name="do" value="login" /><input type="hidden" name="sectok" value="843d28224ea925a01f1468f4eb5db37c" /><input type="submit" value="Login" class="button" title="Login" /></div></form>			</div>
			<div class="search">
				<form action="/wiki/" accept-charset="utf-8" class="search" id="dw__search" method="get"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>			</div>
			<div class="clearRight"></div>
		</div>

		<p class="footnote"><span class="bchead">You are here: </span><a href="/wiki/start"  title="start">Documentation</a> &raquo; <a href="/wiki/tutorial/start"  title="tutorial:start">Tips, Tricks, Tutorials, and Screencasts</a> &raquo; <a href="/wiki/tutorial/flickr_lightbox"  title="tutorial:flickr_lightbox">Flickr Lightbox</a></p>

		<div class="chunk">

	    	<!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="#flickr_lightbox" class="toc">Flickr Lightbox</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#notes" class="toc">Notes</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#compatibility" class="toc">Compatibility</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#installation" class="toc">Installation</a></span></div>
<ul class="toc">
<li class="level3"><div class="li"><span class="li"><a href="#instructions" class="toc">Instructions</a></span></div></li>
<li class="level3"><div class="li"><span class="li"><a href="#source_code" class="toc">Source Code</a></span></div></li>
<li class="level3"><div class="li"><span class="li"><a href="#example_full_page_code" class="toc">Example &quot;Full Page&quot; Code</a></span></div></li>
<li class="level3"><div class="li"><span class="li"><a href="#example_add_it_to_an_existing_page_code" class="toc">Example &quot;Add it to an existing page&quot; Code</a></span></div></li></ul>
</li></ul>
</li></ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1"><a name="flickr_lightbox" id="flickr_lightbox">Flickr Lightbox</a></h1>
<div class="level1">

<p>
<a href="http://flickr.com" class="urlextern" title="http://flickr.com"  rel="nofollow">Flickr</a> is a popular photo sharing site that supports the best and the brightest ideas that the modern web has to offer.  <a href="http://www.huddletogether.com/projects/lightbox/" class="urlextern" title="http://www.huddletogether.com/projects/lightbox/"  rel="nofollow">Lightbox</a> is a relatively popular script that provides a cool looking UI for viewing photos.  Lightbox was so popular, in fact, that it has inspired innumerable spinoffs and variations.  <a href="http://www.fortysomething.ca/mt/etc/archives/005400.php" class="urlextern" title="http://www.fortysomething.ca/mt/etc/archives/005400.php"  rel="nofollow">Here is a list of some of the various Lightbox clones</a>.
</p>

<p>
Having mentioned that there are lots and lots of variations, one of the more popular ones is <a href="http://www.huddletogether.com/projects/lightbox2/" class="urlextern" title="http://www.huddletogether.com/projects/lightbox2/"  rel="nofollow">Lightbox 2</a> created by Lightbox&#039;s original author.  Many of the photo-only variations of Lightbox are compatible with the original Lightbox <acronym title="HyperText Markup Language">HTML</acronym>, so this is what we&#039;ll be creating.  Feel free to tweak and adjust as the instructions for whichever &#039;box you&#039;re using dictates.
</p>

<p>
This tutorial was partially inspired by <a href="http://www.eleven3.com/2006/07/using_flickr_magpie_and_lightb.php" class="urlextern" title="http://www.eleven3.com/2006/07/using_flickr_magpie_and_lightb.php"  rel="nofollow">http://www.eleven3.com/2006/07/using_flickr_magpie_and_lightb.php</a>
</p>

<p>
<img src="/wiki/lib/images/smileys/icon_exclaim.gif" class="middle" alt=":!:" /> This tutorial assumes that you&#039;re already familiar with using SimplePie, including looping through items.
</p>

</div>

<h2 class="sectionedit2"><a name="notes" id="notes">Notes</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Apparently, Flickr now has a different “secret” ID for the original image, which we don&#039;t have access to in the feed.  Because of that, this tutorial does not support the displaying of the “original” image.</div>
</li>
<li class="level1"><div class="li"> The large version of the photo may or may not be available from Flickr.  Flickr resizes and store photos based on the width/height of the image.  If the original image that was uploaded was too small for a “large” version, then there won&#039;t be one.</div>
</li>
<li class="level1"><div class="li"> There is TONS more functionality available from the <a href="http://www.flickr.com/services/api/" class="urlextern" title="http://www.flickr.com/services/api/"  rel="nofollow">Flickr API</a>.  If there&#039;s something you want to do that isn&#039;t part of this tutorial, take some time to go over the Flickr <acronym title="Application Programming Interface">API</acronym> docs.  I would also recommend <a href="http://phpflickr.com/" class="urlextern" title="http://phpflickr.com/"  rel="nofollow">phpFlickr</a> if you&#039;re looking for a <acronym title="Hypertext Preprocessor">PHP</acronym>-based <acronym title="Application Programming Interface">API</acronym> for Flickr&#039;s web services.</div>
</li>
<li class="level1"><div class="li"> This is actually pretty simple code.  I&#039;ve already written the upfront functions to do all the dirty work.  All you have to do to use it is loop through each item in the Flickr feed and pass in some parameters (which in this example have already been done for you).</div>
</li>
</ul>

</div>

<h2 class="sectionedit3"><a name="compatibility" id="compatibility">Compatibility</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Tested with a standard Flickr Atom feed as of 23 August 2007.</div>
</li>
<li class="level1"><div class="li"> Supported in SimplePie 1.0.</div>
</li>
<li class="level1"><div class="li"> Code in this tutorial should be compatible with <acronym title="Hypertext Preprocessor">PHP</acronym> 4.3 or newer, and should not use <acronym title="Hypertext Preprocessor">PHP</acronym> short tags, in order to support the largest number of <acronym title="Hypertext Preprocessor">PHP</acronym> installations.</div>
</li>
</ul>

</div>

<h2 class="sectionedit4"><a name="installation" id="installation">Installation</a></h2>
<div class="level2">

</div>

<h3 class="sectionedit5"><a name="instructions" id="instructions">Instructions</a></h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Create a new file called <code>flickr_lightbox.inc</code> and place it in the same directory as your <code>simplepie.inc</code> file.</div>
</li>
<li class="level1"><div class="li"> On the SimplePie-enabled page you want to use this on, make sure you include it in the same way that you include <code>simplepie.inc</code>.</div>
</li>
</ol>

</div>

<h3 class="sectionedit6"><a name="source_code" id="source_code">Source Code</a></h3>
<div class="level3">
<pre class="code php"><span class="kw2">&lt;?php</span>
<span class="kw2">class</span> lightbox
<span class="br0">&#123;</span>
	<span class="co4">/**
	 * Function that removes double-quotes so they don't interfere with the HTML.
	 */</span>
	<span class="kw2">function</span> cleanup<span class="br0">&#40;</span><span class="re0">$s</span> <span class="sy0">=</span> <span class="kw4">null</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span><span class="re0">$s</span><span class="br0">&#41;</span> <span class="kw1">return</span> <span class="kw4">false</span><span class="sy0">;</span>
		<span class="kw1">else</span>
		<span class="br0">&#123;</span>
			<span class="kw1">return</span> <a href="http://www.php.net/str_replace"><span class="kw3">str_replace</span></a><span class="br0">&#40;</span><span class="st_h">'&quot;'</span><span class="sy0">,</span> <span class="st_h">''</span><span class="sy0">,</span> <span class="re0">$s</span><span class="br0">&#41;</span><span class="sy0">;</span>
		<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>
&nbsp;
	<span class="co4">/**
	 * Function that returns the correctly sized photo URL.
	 */</span>
	<span class="kw2">function</span> photo<span class="br0">&#40;</span><span class="re0">$url</span><span class="sy0">,</span> <span class="re0">$size</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="re0">$url</span> <span class="sy0">=</span> <a href="http://www.php.net/explode"><span class="kw3">explode</span></a><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="re0">$url</span><span class="br0">&#41;</span><span class="sy0">;</span>
		<span class="re0">$photo</span> <span class="sy0">=</span> <a href="http://www.php.net/array_pop"><span class="kw3">array_pop</span></a><span class="br0">&#40;</span><span class="re0">$url</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
		<span class="kw1">switch</span><span class="br0">&#40;</span><span class="re0">$size</span><span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			<span class="kw1">case</span> <span class="st_h">'square'</span><span class="sy0">:</span>
				<span class="re0">$r</span> <span class="sy0">=</span> <a href="http://www.php.net/preg_replace"><span class="kw3">preg_replace</span></a><span class="br0">&#40;</span><span class="st_h">'/(_(s|t|m|b))?\./i'</span><span class="sy0">,</span> <span class="st_h">'_s.'</span><span class="sy0">,</span> <span class="re0">$photo</span><span class="br0">&#41;</span><span class="sy0">;</span>
				<span class="kw1">break</span><span class="sy0">;</span>
			<span class="kw1">case</span> <span class="st_h">'thumb'</span><span class="sy0">:</span>
				<span class="re0">$r</span> <span class="sy0">=</span> <a href="http://www.php.net/preg_replace"><span class="kw3">preg_replace</span></a><span class="br0">&#40;</span><span class="st_h">'/(_(s|t|m|b))?\./i'</span><span class="sy0">,</span> <span class="st_h">'_t.'</span><span class="sy0">,</span> <span class="re0">$photo</span><span class="br0">&#41;</span><span class="sy0">;</span>
				<span class="kw1">break</span><span class="sy0">;</span>
			<span class="kw1">case</span> <span class="st_h">'small'</span><span class="sy0">:</span>
				<span class="re0">$r</span> <span class="sy0">=</span> <a href="http://www.php.net/preg_replace"><span class="kw3">preg_replace</span></a><span class="br0">&#40;</span><span class="st_h">'/(_(s|t|m|b))?\./i'</span><span class="sy0">,</span> <span class="st_h">'_m.'</span><span class="sy0">,</span> <span class="re0">$photo</span><span class="br0">&#41;</span><span class="sy0">;</span>
				<span class="kw1">break</span><span class="sy0">;</span>
			<span class="kw1">case</span> <span class="st_h">'large'</span><span class="sy0">:</span>
				<span class="re0">$r</span> <span class="sy0">=</span> <a href="http://www.php.net/preg_replace"><span class="kw3">preg_replace</span></a><span class="br0">&#40;</span><span class="st_h">'/(_(s|t|m|b))?\./i'</span><span class="sy0">,</span> <span class="st_h">'_b.'</span><span class="sy0">,</span> <span class="re0">$photo</span><span class="br0">&#41;</span><span class="sy0">;</span>
				<span class="kw1">break</span><span class="sy0">;</span>
			<span class="kw1">default</span><span class="sy0">:</span> <span class="co1">// Medium</span>
				<span class="re0">$r</span> <span class="sy0">=</span> <a href="http://www.php.net/preg_replace"><span class="kw3">preg_replace</span></a><span class="br0">&#40;</span><span class="st_h">'/(_(s|t|m|b))?\./i'</span><span class="sy0">,</span> <span class="st_h">'.'</span><span class="sy0">,</span> <span class="re0">$photo</span><span class="br0">&#41;</span><span class="sy0">;</span>
				<span class="kw1">break</span><span class="sy0">;</span>
		<span class="br0">&#125;</span>
&nbsp;
		<span class="re0">$url</span><span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="re0">$r</span><span class="sy0">;</span>
		<span class="kw1">return</span> <a href="http://www.php.net/implode"><span class="kw3">implode</span></a><span class="br0">&#40;</span><span class="st_h">'/'</span><span class="sy0">,</span> <span class="re0">$url</span><span class="br0">&#41;</span><span class="sy0">;</span>
	<span class="br0">&#125;</span>
&nbsp;
	<span class="co4">/**
	 * Function that looks through the description and finds the first image.
	 */</span>
	<span class="kw2">function</span> find_photo<span class="br0">&#40;</span><span class="re0">$data</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<a href="http://www.php.net/preg_match_all"><span class="kw3">preg_match_all</span></a><span class="br0">&#40;</span><span class="st_h">'/&lt;img src=&quot;([^&quot;]*)&quot;([^&gt;]*)&gt;/i'</span><span class="sy0">,</span> <span class="re0">$data</span><span class="sy0">,</span> <span class="re0">$m</span><span class="br0">&#41;</span><span class="sy0">;</span>
		<span class="kw1">return</span> <span class="re0">$m</span><span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span>
<span class="sy1">?&gt;</span></pre>

</div>

<h3 class="sectionedit7"><a name="example_full_page_code" id="example_full_page_code">Example &quot;Full Page&quot; Code</a></h3>
<div class="level3">
<pre class="code html4strict"><span class="sc2">&lt;?php</span>
<span class="sc2">require_once<span class="br0">&#40;</span><span class="st0">'simplepie.inc'</span><span class="br0">&#41;</span>;</span>
<span class="sc2">require_once<span class="br0">&#40;</span><span class="st0">'flickr_lightbox.inc'</span><span class="br0">&#41;</span>;</span>
&nbsp;
<span class="sc2"><span class="sy0">/</span>**</span>
<span class="sc2"> * Set up SimplePie with all default values using shorthand syntax.</span>
<span class="sc2"> *<span class="sy0">/</span></span>
<span class="sc2">$feed <span class="sy0">=</span> new SimplePie<span class="br0">&#40;</span><span class="st0">'http://api.flickr.com/services/feeds/photos_public.gne?id=33495701@N00&amp;lang=en-us&amp;format=atom'</span><span class="br0">&#41;</span>;</span>
<span class="sc2">$feed-&gt;</span>handle_content_type();
&nbsp;
/**
 * What sizes should we use?
 * Choices: square, thumb, small, medium, large.
 */
$thumb = 'square';
$full = 'medium';
&nbsp;
?&gt;<span class="sc0">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span>
<span class="sc0">	&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>
<span class="sc2">&lt;<a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a> xmlns<span class="sy0">=</span><span class="st0">&quot;http://www.w3.org/1999/xhtml&quot;</span> xml:<span class="kw3">lang</span><span class="sy0">=</span><span class="st0">&quot;en&quot;</span> <span class="kw3">lang</span><span class="sy0">=</span><span class="st0">&quot;en&quot;</span>&gt;</span>    
<span class="sc2">&lt;<a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span>Flickr Lightbox<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span>
&nbsp;
	<span class="sc-1">&lt;!-- Lightbox 2 includes --&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/javascript&quot;</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;js/prototype.js&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/javascript&quot;</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;js/scriptaculous.js?load=effects&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/javascript&quot;</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;js/lightbox.js&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/link.html"><span class="kw2">link</span></a> <span class="kw3">rel</span><span class="sy0">=</span><span class="st0">&quot;stylesheet&quot;</span> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">&quot;css/lightbox.css&quot;</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span> <span class="kw3">media</span><span class="sy0">=</span><span class="st0">&quot;screen&quot;</span> <span class="sy0">/</span>&gt;</span>
&nbsp;
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span>
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span>
&nbsp;
	<span class="sc-1">&lt;!-- Format the photos in a way that the Lightbox-clone scripts prefer. --&gt;</span>
	<span class="sc2">&lt;?php</span>
<span class="sc2">	foreach <span class="br0">&#40;</span>$feed-&gt;</span>get_items() as $item):
&nbsp;
		// Set some variables to keep the rest of the code cleaner.
		$url = lightbox::find_photo($item-&gt;get_description());
		$title = lightbox::cleanup($item-&gt;get_title());
		$full_url = lightbox::photo($url, $full);
		$thumb_url = lightbox::photo($url, $thumb);
	?&gt;
&nbsp;
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">&quot;&lt;?php echo $full_url; ?&gt;</span></span>&quot; title=&quot;<span class="sc2">&lt;?php echo $title; ?&gt;</span>&quot; rel=&quot;lightbox&quot;&gt;
		<span class="sc2">&lt;<a href="http://december.com/html/4/element/img.html"><span class="kw2">img</span></a> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;&lt;?php echo $thumb_url; ?&gt;</span></span>&quot; alt=&quot;<span class="sc2">&lt;?php echo $title; ?&gt;</span>&quot; border=&quot;0&quot; /&gt;
	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;</span>
&nbsp;
	<span class="sc2">&lt;?php endforeach; ?&gt;</span>
&nbsp;
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a>&gt;</span></pre>

</div>

<h3 class="sectionedit8"><a name="example_add_it_to_an_existing_page_code" id="example_add_it_to_an_existing_page_code">Example &quot;Add it to an existing page&quot; Code</a></h3>
<div class="level3">

<p>
<strong>Assumes:</strong>
</p>
<ol>
<li class="level1"><div class="li"> You&#039;ve already got a page…</div>
</li>
<li class="level1"><div class="li"> … with a Lightbox of some sort already installed…</div>
</li>
<li class="level1"><div class="li"> … and your page is set to UTF-8…</div>
</li>
<li class="level1"><div class="li"> … and you&#039;re not already including SimplePie somewhere else in the page.</div>
</li>
</ol>
<pre class="code php"><span class="kw2">&lt;?php</span>
<span class="kw1">require_once</span><span class="br0">&#40;</span><span class="st_h">'simplepie.inc'</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw1">require_once</span><span class="br0">&#40;</span><span class="st_h">'flickr_lightbox.inc'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$feed</span> <span class="sy0">=</span> <span class="kw2">new</span> SimplePie<span class="br0">&#40;</span><span class="st_h">'http://api.flickr.com/services/feeds/photos_public.gne?id=33495701@N00&amp;lang=en-us&amp;format=atom'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$thumb</span> <span class="sy0">=</span> <span class="st_h">'square'</span><span class="sy0">;</span>
<span class="re0">$full</span> <span class="sy0">=</span> <span class="st_h">'medium'</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">foreach</span> <span class="br0">&#40;</span><span class="re0">$feed</span><span class="sy0">-&gt;</span><span class="me1">get_items</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw1">as</span> <span class="re0">$item</span><span class="br0">&#41;</span><span class="sy0">:</span>
	<span class="re0">$url</span> <span class="sy0">=</span> lightbox<span class="sy0">::</span><span class="me2">find_photo</span><span class="br0">&#40;</span><span class="re0">$item</span><span class="sy0">-&gt;</span><span class="me1">get_description</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
	<span class="re0">$title</span> <span class="sy0">=</span> lightbox<span class="sy0">::</span><span class="me2">cleanup</span><span class="br0">&#40;</span><span class="re0">$item</span><span class="sy0">-&gt;</span><span class="me1">get_title</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
	<span class="re0">$full_url</span> <span class="sy0">=</span> lightbox<span class="sy0">::</span><span class="me2">photo</span><span class="br0">&#40;</span><span class="re0">$url</span><span class="sy0">,</span> <span class="re0">$full</span><span class="br0">&#41;</span><span class="sy0">;</span>
	<span class="re0">$thumb_url</span> <span class="sy0">=</span> lightbox<span class="sy0">::</span><span class="me2">photo</span><span class="br0">&#40;</span><span class="re0">$url</span><span class="sy0">,</span> <span class="re0">$thumb</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="sy1">?&gt;</span>
&nbsp;
&lt;a href=&quot;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$full_url</span><span class="sy0">;</span> <span class="sy1">?&gt;</span>&quot; title=&quot;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$title</span><span class="sy0">;</span> <span class="sy1">?&gt;</span>&quot; rel=&quot;lightbox&quot;&gt;
	&lt;img src=&quot;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$thumb_url</span><span class="sy0">;</span> <span class="sy1">?&gt;</span>&quot; alt=&quot;<span class="kw2">&lt;?php</span> <span class="kw1">echo</span> <span class="re0">$title</span><span class="sy0">;</span> <span class="sy1">?&gt;</span>&quot; border=&quot;0&quot; /&gt;
&lt;/a&gt;
&nbsp;
<span class="kw2">&lt;?php</span> <span class="kw1">endforeach</span><span class="sy0">;</span> <span class="sy1">?&gt;</span></pre>

</div>


			<div class="clearRight"></div>
			<div align="right"><br /><span class="footnote"> tutorial/flickr_lightbox.txt &middot; Last modified: 2011/03/06 03:56 (external edit)</span></div>

		</div>

		<div id="footer">
<p class="highlight" style="background-color:#ffc; border-bottom:1px solid #ccc;"><strong>Show some love!</strong> Wishlists for <a href="http://www.amazon.co.uk/gp/registry/wishlist/2ASV4RHBSM16H/026-9090951-0551667">Geoffrey</a>, <a href="http://www.amazon.com/gp/registry/wishlist/KAFYR57E8R81/">Ryan P.</a>, and <a href="http://www.amazon.com/gp/registry/wishlist/2P9RS76SG0UHL/">Ryan M.</a></p>
<p class="footnote">SimplePie is &copy; 2004&ndash;2022 <a href="http://ryanparman.com">Ryan Parman</a>, <a href="http://gsnedders.com/">Geoffrey Sneddon</a>, <a href="http://ryanmccue.info/">Ryan McCue</a> and contributors.  Licensed under the <a href="http://www.opensource.org/licenses/bsd-license.php">BSD License</a>.  Hosted thanks to <a href="http://ma.tt/">Matt Mullenweg</a>, powered by <a href="http://wordpress.org">WordPress</a> and <a href="http://php.net">PHP 5.6.40</a>, and managed with <a href="http://basecamphq.com/?referrer=skyzyx">Basecamp</a>.  Syndication handled by <a href="http://simplepie.org" title="SimplePie 1.5">SimplePie</a>.  Variation on the Feed Icon by <a href="http://www.bartelme.at/journal/archive/feed_icon_template">Wolfgang Bartelme</a>.</p>
<div class="spacer"></div>
</div>
<script type="text/javascript">_uacct = "UA-1004552-1";urchinTracker();</script>

	</div>

</div>

<div class="no"><img src="/wiki/lib/exe/indexer.php?id=tutorial%3Aflickr_lightbox&amp;1666873866" width="1" height="1" alt=""  /></div>

</body>
</html>