<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
<title>SimplePie Documentation: How does SimplePie&#039;s caching system work?</title>

<meta name="generator" content="DokuWiki Release 2006-11-06" />
<meta name="date" content="2007-06-18T00:42:23-0700" />
<meta name="keywords" content="reference,start" />

<link rel="start" href="/wiki/" />
<link rel="contents" href="/wiki/reference/start?do=index" title="Index" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="/wiki/feed.php" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="/wiki/feed.php?mode=list&amp;ns=reference" />
<link rel="alternate" type="text/html" title="Plain HTML" href="/wiki/_export/xhtml/reference/start" />
<link rel="alternate" type="text/plain" title="Wiki Markup" href="/wiki/_export/raw/reference/start" />

<link rel="stylesheet" href="/wiki/lib/tpl/simplepie/wikistyles.css" type="text/css" media="screen">
<link rel="stylesheet" href="/css/sIFR-screen.css" type="text/css" media="screen">
<link rel="stylesheet" href="/css/sIFR-print.css" type="text/css" media="print">
<link rel="stylesheet" media="screen" type="text/css" href="/wiki/lib/exe/css.php" />
<link rel="stylesheet" media="print" type="text/css" href="/wiki/lib/exe/css.php?print=1" />

<!-- FEED HTTP-EQUIV -->
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://feeds.feedburner.com/simplepie" />

<!-- META HTTP-EQUIV -->
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-language" content="en-us" />
<meta http-equiv="imagetoolbar" content="false" />

<!-- META NAME -->
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="ROBOTS" content="ALL" />
<meta name="copyright" content="2004-2022 Ryan Parman, Geoffrey Sneddon" />
<meta name="description" content="A super-fast, easy-to-use, RSS and Atom parser written in PHP." />
<meta name="author" content="SimplePie.org" />
<meta name="rating" content="General" />
<meta name="revisit-after" content="2 Days" />
<meta name="doc-class" content="Living Document" />
<meta name="y_key" content="8a13570546b4e5cd" />

<!-- FAVICON -->
<link rel="shortcut icon" type="image/ico" href="/favicon.ico" />

<!-- STYLES -->
<link rel="stylesheet" href="/css/simplepie.css" media="screen, projector" />

<!-- SCRIPTS -->
<script type="text/javascript" src="/mint/?js"></script>
<script type="text/javascript" src="/scripts/sleight.js"></script>
<script type="text/javascript" src="http://www.google-analytics.com/urchin.js"></script>


<script type="text/javascript" src="/scripts/sifr.js"></script>
<script type="text/javascript" src="/scripts/sifr-config.js"></script>

</head>

<body id="bodydocs">

<div class="announcement"><a href="https://github.com/simplepie/simplepie/releases/tag/1.5">SimplePie 1.5 is now available!</a></div>
<div id="header">
	<div id="headerInner">
		<div id="logoContainer">
			<div id="logoContainerInner">
				<div id="logo"><a href="/"><img src="/images/logo_simplepie_horizontal.png" alt="SimplePie: PHP-based RSS and Atom feed handling" title="SimplePie: PHP-based RSS and Atom feed handling" border="0" /></a></div>
				<div id="feed"><form action="http://www.google.com/search" method="get"><input type="text" name="q" id="q" value="" class="text" /><input type="hidden" name="as_sitesearch" value="simplepie.org" />&nbsp;<input type="submit" value="Search" class="button" /></form></div>
				<div class="clearLeft"></div>
			</div>
		</div>
		<div id="menu">
		<table cellpadding="0" cellspacing="0" border="0"><tbody><tr><td>
<ul><li id="overview"><a href="/">Overview</a></li><li id="demo"><a href="/demo/">Demo</a></li><li id="blog"><a href="/blog/">Blog</a></li><li id="downloads"><a href="/downloads/">Download</a></li><li id="docs"><a href="/wiki/">Documentation</a></li><li id="api"><a href="/api/">API Docs</a></li><li id="support"><a href="/support/">Support</a></li><li id="bugs"><a href="http://github.com/simplepie/simplepie/issues">Issue Tracker</a></li><li id="faq"><a href="/wiki/faq/start">FAQ</a></li></ul>
			<div class="clearLeft"></div>
		</td></tr></tbody></table>
		</div>
	</div>
</div>

<div id="site">

	<div id="content">

		<div class="chunk">
			<h2 class="image"><img src="/images/copy_simplepie_documentation.gif" alt="SimplePie Documentation.  Learn how to use this thing.  It's way better than going to school." title="SimplePie Documentation.  Learn how to use this thing.  It's way better than going to school." /></h2>
		</div>

		<div class="chunk focus" id="controls">
			<div class="buttons">
				<form class="button btn_source" method="post" action="/wiki/faq/how_does_simplepie_s_caching_http_conditional_get_system_work"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="submit" value="Show pagesource" class="button" accesskey="v" title="Show pagesource [V]" /></div></form>				<form class="button btn_revs" method="get" action="/wiki/faq/how_does_simplepie_s_caching_http_conditional_get_system_work"><div class="no"><input type="hidden" name="do" value="revisions" /><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [O]" /></div></form>				<form class="button btn_recent" method="get" action="/wiki/faq/how_does_simplepie_s_caching_http_conditional_get_system_work"><div class="no"><input type="hidden" name="do" value="recent" /><input type="submit" value="Recent changes" class="button" accesskey="r" title="Recent changes [R]" /></div></form>																<form class="button btn_login" method="get" action="/wiki/faq/how_does_simplepie_s_caching_http_conditional_get_system_work"><div class="no"><input type="hidden" name="do" value="login" /><input type="hidden" name="sectok" value="d2f7dd178d7bd5ffee305a2ce03127d7" /><input type="submit" value="Login" class="button" title="Login" /></div></form>			</div>
			<div class="search">
				<form action="/wiki/" accept-charset="utf-8" class="search" id="dw__search" method="get"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>			</div>
			<div class="clearRight"></div>
		</div>

		<p class="footnote"><span class="bchead">You are here: </span><a href="/wiki/start"  title="start">Documentation</a> &raquo; <a href="/wiki/faq/start"  title="faq:start">Frequently Asked Questions</a> &raquo; <a href="/wiki/faq/how_does_simplepie_s_caching_http_conditional_get_system_work"  title="faq:how_does_simplepie_s_caching_http_conditional_get_system_work">How does SimplePie&#039;s caching system work?</a></p>

		<div class="chunk">

	    	<!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="#how_does_simplepie_s_caching_system_work" class="toc">How does SimplePie&#039;s caching system work?</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#process" class="toc">Process</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#about_httpcg" class="toc">About HTTPCG</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#notes" class="toc">Notes</a></span></div></li></ul>
</li></ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1"><a name="how_does_simplepie_s_caching_system_work" id="how_does_simplepie_s_caching_system_work">How does SimplePie&#039;s caching system work?</a></h1>
<div class="level1">

<p>
SimplePie uses a combination of “<acronym title="Hyper Text Transfer Protocol">HTTP</acronym> Conditional Get” (hereafter known as “HTTPCG”) and caching for optimal efficiency.  You can learn more about <em><acronym title="Hyper Text Transfer Protocol">HTTP</acronym> Conditional Get</em> at <a href="http://fishbowl.pastiche.org/2002/10/21/http_conditional_get_for_rss_hackers" class="urlextern" title="http://fishbowl.pastiche.org/2002/10/21/http_conditional_get_for_rss_hackers"  rel="nofollow">The Fishbowl</a>.
</p>

</div>

<h2 class="sectionedit2"><a name="process" id="process">Process</a></h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> You tell SimplePie what feed you want to get and where to cache it.</div>
</li>
<li class="level1"><div class="li"> SimplePie looks to see if the feed is already cached:</div>
<ol>
<li class="level2"><div class="li"> If the cache is fresh use that.</div>
</li>
<li class="level2"><div class="li"> If there is no cached copy at all, SimplePie will grab and cache the feed.</div>
</li>
<li class="level2"><div class="li"> If the cache is there but it&#039;s old (SimplePie defaults to 60 minutes; configurable with <a href="/wiki/reference/simplepie/set_cache_duration" class="wikilink1" title="reference:simplepie:set_cache_duration">set_cache_duration()</a>), then SimplePie will ask the feed if it has changed since the last time we grabbed it (this is the HTTPCG part).</div>
<ol>
<li class="level3"><div class="li"> If it hasn&#039;t changed, we reset the timer on the cache&#039;s freshness and keep it for another 60 minutes before checking again.</div>
</li>
<li class="level3"><div class="li"> If the cache <em>has</em> changed, SimplePie dumps the existing cache (since the cache is just a copy of the data object based on the feed), and grabs a new copy of the feed and uses it.</div>
</li>
</ol>
</li>
</ol>
</li>
</ol>

</div>

<h2 class="sectionedit3"><a name="about_httpcg" id="about_httpcg">About HTTPCG</a></h2>
<div class="level2">

<p>
HTTPCG is a two-part process:
</p>
<ol>
<li class="level1"><div class="li"> First, SimplePie knows how to handle HTTPCG-aware feeds.  We&#039;ve got you covered here.</div>
</li>
<li class="level1"><div class="li"> Secondly, the software that generates the feed needs to be configured to produce HTTPCG-aware feeds.  If the software does not understand HTTPCG, then it effectively negates the benefits.</div>
</li>
</ol>

<p>

We <strong>know</strong> that the following software is HTTPCG-aware:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://wordpress.org" class="urlextern" title="http://wordpress.org"  rel="nofollow">WordPress</a></div>
</li>
</ul>

<p>

We have <em>absolutely no idea</em> if the following software is HTTPCG-aware: <img src="/wiki/lib/images/smileys/fixme.gif" class="middle" alt="FIXME" />
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://drupal.org" class="urlextern" title="http://drupal.org"  rel="nofollow">Drupal</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://textpattern.com" class="urlextern" title="http://textpattern.com"  rel="nofollow">Textpattern</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://movabletype.org" class="urlextern" title="http://movabletype.org"  rel="nofollow">Movable Type</a></div>
</li>
</ul>

</div>

<h2 class="sectionedit4"><a name="notes" id="notes">Notes</a></h2>
<div class="level2">

<p>
If you want to utilize the HTTPCG support, but don&#039;t want a ton of caching, then set the caching down to 1 minute or a fraction thereof.  SimplePie&#039;s cache will expire after that minute, and then begin asking the server for a fresh copy every minute from them on.
</p>

<p>
It takes longer to ask if the feed has changed than it does to simply using the existing (fresh) cache, but it takes less time than fetching the entire feed from scratch.  Although most feeds are updated a few times a day, once a day, once a week, or once a month, there are some feeds (such as <a href="http://digg.com" class="urlextern" title="http://digg.com"  rel="nofollow">Digg.com</a>) that update several times an hour.  You can set the duration of the cache by using the <a href="/wiki/reference/simplepie/set_cache_duration" class="wikilink1" title="reference:simplepie:set_cache_duration">set_cache_duration()</a> configuration option.

</p>

</div>


			<div class="clearRight"></div>
			<div align="right"><br /><span class="footnote"> faq/how_does_simplepie_s_caching_http_conditional_get_system_work.txt &middot; Last modified: 2011/03/06 03:56 (external edit)</span></div>

		</div>

		<div id="footer">
<p class="highlight" style="background-color:#ffc; border-bottom:1px solid #ccc;"><strong>Show some love!</strong> Wishlists for <a href="http://www.amazon.co.uk/gp/registry/wishlist/2ASV4RHBSM16H/026-9090951-0551667">Geoffrey</a>, <a href="http://www.amazon.com/gp/registry/wishlist/KAFYR57E8R81/">Ryan P.</a>, and <a href="http://www.amazon.com/gp/registry/wishlist/2P9RS76SG0UHL/">Ryan M.</a></p>
<p class="footnote">SimplePie is &copy; 2004&ndash;2022 <a href="http://ryanparman.com">Ryan Parman</a>, <a href="http://gsnedders.com/">Geoffrey Sneddon</a>, <a href="http://ryanmccue.info/">Ryan McCue</a> and contributors.  Licensed under the <a href="http://www.opensource.org/licenses/bsd-license.php">BSD License</a>.  Hosted thanks to <a href="http://ma.tt/">Matt Mullenweg</a>, powered by <a href="http://wordpress.org">WordPress</a> and <a href="http://php.net">PHP 5.6.40</a>, and managed with <a href="http://basecamphq.com/?referrer=skyzyx">Basecamp</a>.  Syndication handled by <a href="http://simplepie.org" title="SimplePie 1.5">SimplePie</a>.  Variation on the Feed Icon by <a href="http://www.bartelme.at/journal/archive/feed_icon_template">Wolfgang Bartelme</a>.</p>
<div class="spacer"></div>
</div>
<script type="text/javascript">_uacct = "UA-1004552-1";urchinTracker();</script>

	</div>

</div>

<div class="no"><img src="/wiki/lib/exe/indexer.php?id=faq%3Ahow_does_simplepie_s_caching_http_conditional_get_system_work&amp;1666873862" width="1" height="1" alt=""  /></div>

</body>
</html>